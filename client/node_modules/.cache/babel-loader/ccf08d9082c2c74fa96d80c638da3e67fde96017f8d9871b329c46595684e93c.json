{"ast":null,"code":"import _regeneratorRuntime from \"/home/user/School/CSC330/ThinkLink/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/user/School/CSC330/ThinkLink/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { createStore } from 'vuex';\nimport api from '@/services/api';\nexport default createStore({\n  state: {\n    user: null\n  },\n  mutations: {\n    setUser: function setUser(state, user) {\n      state.user = user;\n    }\n  },\n  actions: {\n    login: function login(_ref, credentials) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var commit, response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref.commit;\n              _context.prev = 1;\n              _context.next = 4;\n              return api.post('/login', credentials);\n            case 4:\n              response = _context.sent;\n              if (response.data.message === 'Login successful') {\n                console.log(response.data.user); // Log the user data\n                commit('setUser', response.data.user); // Store the user's ID\n              }\n              return _context.abrupt(\"return\", response.data);\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              throw _context.t0;\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[1, 9]]);\n      }))();\n    },\n    register: function register(_, userData) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return api.post('/register', userData);\n            case 3:\n              _context2.next = 7;\n              break;\n            case 5:\n              _context2.prev = 5;\n              _context2.t0 = _context2[\"catch\"](0);\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 5]]);\n      }))();\n    },\n    logout: function logout(_ref2) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var commit;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              commit = _ref2.commit;\n              _context3.prev = 1;\n              _context3.next = 4;\n              return api.post('/logout');\n            case 4:\n              commit('setUser', null);\n              _context3.next = 9;\n              break;\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](1);\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[1, 7]]);\n      }))();\n    }\n  },\n  getters: {\n    currentUser: function currentUser(state) {\n      return state.user;\n    }\n  }\n});","map":{"version":3,"names":["createStore","api","state","user","mutations","setUser","actions","login","_ref","credentials","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","response","wrap","_callee$","_context","prev","next","post","sent","data","message","console","log","abrupt","t0","stop","register","_","userData","_callee2","_callee2$","_context2","logout","_ref2","_callee3","_callee3$","_context3","getters","currentUser"],"sources":["/home/user/School/CSC330/ThinkLink/client/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\nimport api from '@/services/api';\n\n\nexport default createStore({\n  state: {\n    user: null,\n  },\n  mutations: {\n    setUser(state, user) {\n      state.user = user;\n    },\n  },\n  actions: {\n    async login({ commit }, credentials) {\n      try {\n        const response = await api.post('/login', credentials);\n        if (response.data.message === 'Login successful') {\n          console.log(response.data.user); // Log the user data\n          commit('setUser', response.data.user);  // Store the user's ID\n        }\n        return response.data;\n      } catch (error) {\n        throw error;\n      }\n    },\n    async register(_, userData) {\n      try {\n        await api.post('/register', userData);\n        // Handle successful registration\n      } catch (error) {\n        // Handle registration error\n      }\n    },\n    async logout({ commit }) {\n      try {\n        await api.post('/logout');\n        commit('setUser', null);\n      } catch (error) {\n        // Handle logout error\n      }\n    }\n  },\n  getters: {\n    currentUser(state) {\n      return state.user;\n    }\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}