{"ast":null,"code":"import _regeneratorRuntime from \"/home/user/School/CSC330/ThinkLink/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/user/School/CSC330/ThinkLink/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { createStore } from 'vuex';\nimport api from '@/services/api';\nexport default createStore({\n  state: {\n    user: null\n  },\n  mutations: {\n    setUser: function setUser(state, user) {\n      state.user = user;\n    }\n  },\n  actions: {\n    login: function login(_ref, credentials) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var commit, response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref.commit;\n              _context.prev = 1;\n              _context.next = 4;\n              return api.post('/login', credentials);\n            case 4:\n              response = _context.sent;\n              if (response.data.message === 'Login successful') {\n                commit('setUser', response.data.user); // Store the user's ID\n              }\n              _context.next = 10;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[1, 8]]);\n      }))();\n    },\n    register: function register(_, userData) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return api.post('/register', userData);\n            case 3:\n              _context2.next = 7;\n              break;\n            case 5:\n              _context2.prev = 5;\n              _context2.t0 = _context2[\"catch\"](0);\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 5]]);\n      }))();\n    },\n    logout: function logout(_ref2) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var commit;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              commit = _ref2.commit;\n              _context3.prev = 1;\n              _context3.next = 4;\n              return api.post('/logout');\n            case 4:\n              commit('setUser', null);\n              _context3.next = 9;\n              break;\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](1);\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[1, 7]]);\n      }))();\n    }\n  },\n  getters: {\n    currentUser: function currentUser(state) {\n      return state.user;\n    }\n  }\n});","map":{"version":3,"names":["createStore","api","state","user","mutations","setUser","actions","login","_ref","credentials","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","response","wrap","_callee$","_context","prev","next","post","sent","data","message","t0","stop","register","_","userData","_callee2","_callee2$","_context2","logout","_ref2","_callee3","_callee3$","_context3","getters","currentUser"],"sources":["/home/user/School/CSC330/ThinkLink/client/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\nimport api from '@/services/api';\n\n\nexport default createStore({\n  state: {\n    user: null,\n  },\n  mutations: {\n    setUser(state, user) {\n      state.user = user;\n    },\n  },\n  actions: {\n    async login({ commit }, credentials) {\n      try {\n        const response = await api.post('/login', credentials);\n        if (response.data.message === 'Login successful') {\n          commit('setUser', response.data.user);  // Store the user's ID\n        }\n      } catch (error) {\n        // Handle login error\n      }\n    },\n    async register(_, userData) {\n      try {\n        await api.post('/register', userData);\n        // Handle successful registration\n      } catch (error) {\n        // Handle registration error\n      }\n    },\n    async logout({ commit }) {\n      try {\n        await api.post('/logout');\n        commit('setUser', null);\n      } catch (error) {\n        // Handle logout error\n      }\n    }\n  },\n  getters: {\n    currentUser(state) {\n      return state.user;\n    }\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}