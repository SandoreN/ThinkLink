{"ast":null,"code":"import _regeneratorRuntime from \"/home/user/School/CSC330/ThinkLink/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/user/School/CSC330/ThinkLink/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { createStore } from 'vuex';\nimport api from '@/services/api';\nimport axios from 'axios';\nexport default createStore({\n  state: {\n    user: null,\n    token: null\n  },\n  mutations: {\n    setUser: function setUser(state, user) {\n      state.user = user;\n    },\n    setToken: function setToken(state, token) {\n      state.token = token;\n    }\n  },\n  actions: {\n    login: function login(_ref, _ref2) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var commit, email, password, response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref.commit;\n              email = _ref2.email, password = _ref2.password;\n              _context.prev = 2;\n              _context.next = 5;\n              return axios.post('http://localhost:5000/login', {\n                email: email,\n                password: password\n              });\n            case 5:\n              response = _context.sent;\n              commit('SET_USER', response.data.user);\n              return _context.abrupt(\"return\", response.data);\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              console.error('Login error:', _context.t0);\n              throw _context.t0;\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[2, 10]]);\n      }))();\n    },\n    register: function register(_, userData) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return api.post('/register', userData);\n            case 3:\n              _context2.next = 7;\n              break;\n            case 5:\n              _context2.prev = 5;\n              _context2.t0 = _context2[\"catch\"](0);\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 5]]);\n      }))();\n    },\n    logout: function logout(_ref3) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var commit;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              commit = _ref3.commit;\n              _context3.prev = 1;\n              _context3.next = 4;\n              return api.post('/logout');\n            case 4:\n              commit('setUser', null);\n              _context3.next = 9;\n              break;\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](1);\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[1, 7]]);\n      }))();\n    }\n  },\n  getters: {\n    currentUser: function currentUser(state) {\n      return state.user;\n    }\n  }\n});","map":{"version":3,"names":["createStore","api","axios","state","user","token","mutations","setUser","setToken","actions","login","_ref","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","email","password","response","wrap","_callee$","_context","prev","next","post","sent","data","abrupt","t0","console","error","stop","register","_","userData","_callee2","_callee2$","_context2","logout","_ref3","_callee3","_callee3$","_context3","getters","currentUser"],"sources":["/home/user/School/CSC330/ThinkLink/client/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\nimport api from '@/services/api';\nimport axios from 'axios';\n\nexport default createStore({\n  state: {\n    user: null,\n    token: null,\n  },\n  mutations: {\n    setUser(state, user) {\n      state.user = user;\n    },\n    setToken(state, token) {\n      state.token = token;\n    },\n  },\n  actions: {\n    async login({ commit }, { email, password }) {\n      try {\n        const response = await axios.post('http://localhost:5000/login', { email, password });\n        commit('SET_USER', response.data.user);\n        return response.data;\n      } catch (error) {\n        console.error('Login error:', error);\n        throw error;\n      }\n    },\n    async register(_, userData) {\n      try {\n        await api.post('/register', userData);\n        // Handle successful registration\n      } catch (error) {\n        // Handle registration error\n      }\n    },\n    async logout({ commit }) {\n      try {\n        await api.post('/logout');\n        commit('setUser', null);\n      } catch (error) {\n        // Handle logout error\n      }\n    }\n  },\n  getters: {\n    currentUser(state) {\n      return state.user;\n    }\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}